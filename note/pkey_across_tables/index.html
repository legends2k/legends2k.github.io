<!doctype html><html prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Primary Key across Tables &#183; Sundaram Ramaswamy</title>
<meta name=description content="Unique IDs across different tables"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=generator content="Hugo 0.125.1"><meta name=robots content="index,follow"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/pencil-square-o.svg sizes=any type=image/svg+xml><meta property="og:title" content="Primary Key across Tables"><meta property="og:description" content="Unique IDs across different tables"><meta property="og:type" content="article"><meta property="og:url" content="https://legends2k.github.io/note/pkey_across_tables/"><link rel=stylesheet href=https://legends2k.github.io/dist/styles.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.5.0/hint.min.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css></head><body><div id=wrapper><header class=site-header><div class=container><div class=site-title-wrapper><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Home title=Home href=https://legends2k.github.io/ rel=me><i class="fa fa-home"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label="RSS Feed" title="RSS Feed" href=https://legends2k.github.io/index.xml><i class="fa fa-rss"></i></a>
<a class="button-square hint--top hint--rounded hint--bounce" aria-label=Github title=Github href=https://github.com/legends2k rel=me><i class="fa fa-github-alt"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Bitbucket title=Bitbucket href=https://bitbucket.org/rmsundaram rel=me><i class="fa fa-bitbucket"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label="Stack Overflow" title="Stack Overflow" href=https://stackoverflow.com/users/183120/legends2k rel=me><i class="fa fa-stack-overflow"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=LinkedIn title=LinkedIn href=https://in.linkedin.com/pub/sundaram-ramaswamy/24/b20/1a0 rel=me><i class="fa fa-linkedin"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Flickr title=Flickr href=https://flickr.com/photos/legends2k rel=me><i class="fa fa-flickr"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Email title=Email href=mailto:legends2k@yahoo.com><i class="fa fa-envelope"></i></a></div><ul class=site-nav><li class=site-nav-item><a href=/post/>Posts</a></li><li class=site-nav-item><a href=/note/>Notes</a></li><li class=site-nav-item><a href=/archive/>All Posts</a></li><li class=site-nav-item><a href=/projects/>Projects</a></li><li class=site-nav-item><a href=/about/>About</a></li></ul></div></header><div id=container><div class=container><article class=post-container itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class=post-title itemprop="name headline">Primary Key across Tables</h1><p class=post-description itemprop=description>Unique IDs across different tables</p><p class=post-date>Published <time datetime=2023-06-14 itemprop=datePublished>Jun 14, 2023</time>
<span>by</span>
<span itemscope itemprop=author itemtype=https://schema.org/Person><span itemprop=name><a href=https://legends2k.github.io/about/ itemprop=url rel=author>Sundaram Ramaswamy</a>
</span></span><span class=post-update-date>Updated <time datetime=2023-06-14 itemprop=datePublished>Jul 10, 2023</time></span></p><aside><h1>Contents</h1><nav id=TableOfContents><ol><li><a href=#problem>Problem</a></li><li><a href=#trial-1-table-inheritance>Trial 1: Table Inheritance</a></li><li><a href=#trial-2-common-table-for-ids>Trial 2: Common table for IDs</a></li><li><a href=#trial-3-common-table-for-ids-with-subtype>Trial 3: Common table for IDs with subtype</a></li><li><a href=#solution-trial-3--separate-primary-key-and-unique-constraints>Solution: Trial 3 + separate primary key and unique constraints</a></li><li><a href=#table-proliferation-tackled-too>Table Proliferation Tackled Too</a></li><li><a href=#other-considerations>Other Considerations</a></li><li><a href=#references>References</a></li><li><a href=#appendix-tables-definitions>Appendix: Tables Definitions</a></li></ol></nav></aside></header><div class="post-content clearfix" itemprop=articleBody><h1 id=problem>Problem</h1><p>At times we might need uniqueness constraint for a common column across tables. Letâ€™s say weâ€™ve a bunch of products a retailer sells e.g. books, toys and dresses. Each item-kind needs its own table as theyâ€™ll have different inherent properties e.g. {author, pages} for books, {weight, colour} for toys and {material, fit} for dress.</p><p>Weâ€™ve two requirements business-wise:</p><ol><li>A unique item code is needed to identify every product</li><li>All of these items show up on the same invoice</li></ol><p>If we adhere to <a href=https://en.wikipedia.org/wiki/Third_normal_form>third normal form</a>, weâ€™ll have tables like</p><table><thead><tr><th>Books</th></tr></thead><tbody><tr><td>ID</td></tr><tr><td>Name</td></tr><tr><td>Author</td></tr></tbody></table><table><thead><tr><th>Toys</th></tr></thead><tbody><tr><td>ID</td></tr><tr><td>Weight</td></tr><tr><td>Colour</td></tr></tbody></table><table><thead><tr><th>Dresses</th></tr></thead><tbody><tr><td>ID</td></tr><tr><td>Material</td></tr><tr><td>Fit</td></tr></tbody></table><p>Here each <code>ID</code> field is a primary key of the respective table.</p><p>This has two problems:</p><ol><li>Non-unique IDs for items</li><li>Proliferation of tables</li></ol><p>(1) because both a book and a toy can be of same ID as primary key is per table. Iâ€™ll show you can example to understand (2)</p><p>To capture details of an invoice, weâ€™ll have one table for the invoice itself:</p><table><thead><tr><th>Invoice</th></tr></thead><tbody><tr><td>ID</td></tr><tr><td>Timestamp</td></tr><tr><td>Customer ID</td></tr></tbody></table><p>Additionally, we need <em>n</em> (mapping) tables for <em>n</em> kinds of products just to store one invoice:</p><table><thead><tr><th>Invoice_Books</th></tr></thead><tbody><tr><td>Invoice.ID</td></tr><tr><td>Books.ID</td></tr></tbody></table><table><thead><tr><th>Invoice_Toys</th></tr></thead><tbody><tr><td>Invoice.ID</td></tr><tr><td>Toys.ID</td></tr></tbody></table><table><thead><tr><th>Invoice_Dresses</th></tr></thead><tbody><tr><td>Invoice.ID</td></tr><tr><td>Dresses.ID</td></tr></tbody></table><p>Here <code>Books.ID</code>, <code>Toys.ID</code>, etc. are foreign keys referencing respective tablesâ€™ primary key. This isnâ€™t a mistake, but this is what you end up with if you follow <a href=https://en.wikipedia.org/wiki/Third_normal_form>3NF</a><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>Itâ€™d be ideal if we can just have 2 tables: one for the invoice itself and another mapping an invoice and an item.</p><table><thead><tr><th>Invoice_Items</th></tr></thead><tbody><tr><td>Invoice.ID</td></tr><tr><td>Item.ID</td></tr></tbody></table><p>where <code>Item.ID</code> is a foreign key referencing a unique product ID irrespective of the product kind.</p><h1 id=trial-1-table-inheritance>Trial 1: Table Inheritance</h1><p><a href=https://www.postgresql.org/docs/15/ddl-inherit.html>PostgreSQL supports inheritance</a>. The idea is to have a base table with primary key constraint and have child tables.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> items (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span>
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> books (
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>LIKE</span> items <span style=color:#ff79c6>INCLUDING</span> INDEXES,
</span></span><span style=display:flex><span>  author <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>32</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span>
</span></span><span style=display:flex><span>) <span style=color:#ff79c6>INHERITS</span> (items);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> toys (
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>LIKE</span> items <span style=color:#ff79c6>INCLUDING</span> INDEXES,
</span></span><span style=display:flex><span>  colour <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>16</span>) <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;TRANSPARENT&#39;</span> <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span>
</span></span><span style=display:flex><span>) <span style=color:#ff79c6>INHERITS</span> (items);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> books <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>1</span>, <span style=color:#f1fa8c>&#39;Kalki&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> toys <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;Saffron&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>SELECT</span> tableoid::regclass <span style=color:#ff79c6>table</span>, <span style=color:#ff79c6>*</span> <span style=color:#ff79c6>FROM</span> items;
</span></span><span style=display:flex><span><span style=color:#6272a4>-- Alternative command:
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>SELECT</span> p.relname <span style=color:#ff79c6>table</span>, <span style=color:#ff79c6>*</span> <span style=color:#ff79c6>FROM</span> items i <span style=color:#ff79c6>JOIN</span> pg_class p <span style=color:#ff79c6>ON</span> i.tableoid <span style=color:#ff79c6>=</span> p.oid;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#ff79c6>table</span> <span style=color:#ff79c6>|</span> id 
</span></span><span style=display:flex><span><span style=color:#6272a4>-------+----
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span> books <span style=color:#ff79c6>|</span>  <span style=color:#bd93f9>1</span>
</span></span><span style=display:flex><span> toys  <span style=color:#ff79c6>|</span>  <span style=color:#bd93f9>2</span>
</span></span></code></pre></div><p>Before we declare victory, letâ€™s try one more thing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> books <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;JKR&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>SELECT</span> tableoid::regclass, <span style=color:#ff79c6>*</span> <span style=color:#ff79c6>FROM</span> items;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> tableoid <span style=color:#ff79c6>|</span> id 
</span></span><span style=display:flex><span><span style=color:#6272a4>----------+----
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span> books    <span style=color:#ff79c6>|</span>  <span style=color:#bd93f9>1</span>
</span></span><span style=display:flex><span> books    <span style=color:#ff79c6>|</span>  <span style=color:#bd93f9>2</span>
</span></span><span style=display:flex><span> toys     <span style=color:#ff79c6>|</span>  <span style=color:#bd93f9>2</span>
</span></span></code></pre></div><p>Yikes! Weâ€™ve a book and a toy with same id <code>2</code>. In fact, this is called out in the <a href=https://stackoverflow.com/q/56637251/183120>manual</a> (thanks to <a href=https://www.postgresql.org/docs/15/ddl-inherit.html#DDL-INHERIT-CAVEATS>this SO post</a>):</p><blockquote><p>A serious limitation of the inheritance feature is that indexes (including unique constraints) and foreign key constraints only apply to single tables, not to their inheritance children. This is true on both the referencing and referenced sides of a foreign key constraint.</p></blockquote><p>In other words, the primary key constraint on <code>items</code>, <code>books</code> and <code>toys</code> are completely disjoint.</p><h1 id=trial-2-common-table-for-ids>Trial 2: Common table for IDs</h1><p>Letâ€™s create a table just for IDs with primary key constraint. All product-kind tables will have an ID column referencing this ID (foreign key).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> items (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span>
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> books (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span> <span style=color:#ff79c6>REFERENCES</span> items (id),
</span></span><span style=display:flex><span>  author <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>32</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span>
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> toys (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span> <span style=color:#ff79c6>REFERENCES</span> items (id),
</span></span><span style=display:flex><span>  colour <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>16</span>) <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;TRANSPARENT&#39;</span> <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span>
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> items <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>1</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> items <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> books <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>1</span>, <span style=color:#f1fa8c>&#39;Kalki&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> toys <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;Saffron&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> books <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;DMR&#39;</span>);
</span></span></code></pre></div><p>OK, this didnâ€™t help as expected. The foreign key constraint, naturally, doesnâ€™t stop us from reusing a product ID of a different kind.</p><h1 id=trial-3-common-table-for-ids-with-subtype>Trial 3: Common table for IDs with subtype</h1><p>Letâ€™s introduce a subtype column to ensure product ID of a subtype is not reused for a different subtype using a composite primary key. Weâ€™ll use this as foreign key in product-kind tables. For this example, the subtype is just a one letter code specifying the type; it can be more complex.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> items (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span>,
</span></span><span style=display:flex><span>  <span style=color:#6272a4>-- subtype should be a book or a toy
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  subtype <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>CHECK</span> (subtype <span style=color:#ff79c6>in</span> (<span style=color:#f1fa8c>&#39;b&#39;</span>, <span style=color:#f1fa8c>&#39;t&#39;</span>)),
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span> (id, subtype)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> books (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>REFERENCES</span> items (id),
</span></span><span style=display:flex><span>  subtype <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;b&#39;</span> <span style=color:#ff79c6>CHECK</span> (subtype <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;b&#39;</span>),
</span></span><span style=display:flex><span>  author <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>32</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>FOREIGN</span> <span style=color:#ff79c6>KEY</span> (id, subtype) <span style=color:#ff79c6>REFERENCES</span> items (id, subtype)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> books (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span> <span style=color:#ff79c6>REFERENCES</span> items (id),
</span></span><span style=display:flex><span>  subtype <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;b&#39;</span> <span style=color:#ff79c6>CHECK</span> (subtype <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;b&#39;</span>),
</span></span><span style=display:flex><span>  colour <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>16</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;TRANSPARENT&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>FOREIGN</span> <span style=color:#ff79c6>KEY</span> (id, subtype) <span style=color:#ff79c6>REFERENCES</span> items (id, subtype)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> items <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>1</span>, <span style=color:#f1fa8c>&#39;b&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> items <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;t&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> items <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;b&#39;</span>);
</span></span></code></pre></div><p>ðŸ¤¦ The same ID can be associated to both a book and a toy, again! The composite primary key factors all columns to deduce uniqueness and here it isnâ€™t violated.</p><p>However, this trial is very close to the solution. The line of attack on the problem with a foreign key from the product-kind table is a good one; it ensures an ID is bound to a type i.e. it solves the problem trial 2 had.</p><h1 id=solution-trial-3--separate-primary-key-and-unique-constraints>Solution: Trial 3 + separate primary key and unique constraints</h1><p>Weâ€™ve two issues to be sorted:</p><ol><li>Uniqueness of IDs irrespective of product kind<ul><li>Inserting <code>(1, t)</code> when thereâ€™s a <code>(1, b)</code> shouldnâ€™t work</li></ul></li><li>Non-reuse of a taken ID of another subtype<ul><li>Using <code>2</code> for a book when thereâ€™s a <code>(2, t)</code> shouldnâ€™t work</li></ul></li></ol><p>We tackle (1) with ID primary key. When there a row with <code>ID = 1</code>, irrespective of the <code>subtype</code>, creating a row with same ID will fail; straight forward.</p><p>We tackle (2) with two constraints: one on base table, one on product-kind table; letâ€™s see an example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> items (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span>,
</span></span><span style=display:flex><span>  subtype <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>CHECK</span> (subtype <span style=color:#ff79c6>in</span> (<span style=color:#f1fa8c>&#39;b&#39;</span>, <span style=color:#f1fa8c>&#39;t&#39;</span>)),
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>UNIQUE</span> (id, subtype)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> books (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span> <span style=color:#ff79c6>REFERENCES</span> items(id),
</span></span><span style=display:flex><span>  subtype <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;b&#39;</span> <span style=color:#ff79c6>CHECK</span>(subtype <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;b&#39;</span>),
</span></span><span style=display:flex><span>  author <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>32</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>FOREIGN</span> <span style=color:#ff79c6>KEY</span> (id, subtype) <span style=color:#ff79c6>REFERENCES</span> items (id, subtype)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> toys (
</span></span><span style=display:flex><span>  id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span> <span style=color:#ff79c6>REFERENCES</span> items(id),
</span></span><span style=display:flex><span>  subtype <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;t&#39;</span> <span style=color:#ff79c6>CHECK</span>(subtype <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;t&#39;</span>),
</span></span><span style=display:flex><span>  colour <span style=color:#8be9fd;font-style:italic>VARCHAR</span>(<span style=color:#bd93f9>16</span>) <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>DEFAULT</span> <span style=color:#f1fa8c>&#39;TRANSPARENT&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>FOREIGN</span> <span style=color:#ff79c6>KEY</span> (id, subtype) <span style=color:#ff79c6>REFERENCES</span> items (id, subtype)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> items <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>1</span>, <span style=color:#f1fa8c>&#39;b&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> items <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;t&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> books (id, author) <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>1</span>, <span style=color:#f1fa8c>&#39;Kalki&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>INSERT</span> <span style=color:#ff79c6>INTO</span> books (id, author) <span style=color:#ff79c6>VALUES</span> (<span style=color:#bd93f9>2</span>, <span style=color:#f1fa8c>&#39;DMR&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ERROR:  <span style=color:#bd93f9>23503</span>: <span style=color:#ff79c6>insert</span> <span style=color:#ff79c6>or</span> <span style=color:#ff79c6>update</span> <span style=color:#ff79c6>on</span> <span style=color:#ff79c6>table</span> <span style=color:#f1fa8c>&#34;books&#34;</span> violates <span style=color:#ff79c6>foreign</span> <span style=color:#ff79c6>key</span> <span style=color:#ff79c6>constraint</span> <span style=color:#f1fa8c>&#34;books_id_subtype_fkey&#34;</span>
</span></span><span style=display:flex><span>DETAIL:  <span style=color:#ff79c6>Key</span> (id, subtype)<span style=color:#ff79c6>=</span>(<span style=color:#bd93f9>2</span>, b) <span style=color:#ff79c6>is</span> <span style=color:#ff79c6>not</span> present <span style=color:#ff79c6>in</span> <span style=color:#ff79c6>table</span> <span style=color:#f1fa8c>&#34;items&#34;</span>.
</span></span></code></pre></div><p>Yes! Trying to use <code>(2, b)</code> wonâ€™t work because the same <code>(2, b)</code> is expected in <code>items</code>, thanks to the foreign key constraint on <code>books</code>. Trying to add <code>(2, b)</code> into <code>items</code> will be stopped by its primary key constraint.</p><p>What use is <code>items</code>â€™s <code>UNIQUE (id, subtype)</code> constraint? Itâ€™s needed to exist for <code>books</code>â€™s foreign key constraint to be created. <a href=https://stackoverflow.com/a/11966555/183120>Refer here</a> for a good explanation why.</p><p>Added advantage of <code>subtype</code>: simple kind-based selection</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>SELECT</span> id <span style=color:#ff79c6>FROM</span> items <span style=color:#ff79c6>WHERE</span> subtype<span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#39;b&#39;</span>;
</span></span></code></pre></div><h1 id=table-proliferation-tackled-too>Table Proliferation Tackled Too</h1><p>This also also our table proliferation problem. We donâ€™t need <em>n</em> tables to represent invoices; we just need two: one for the invoice itself and one for its items.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#ff79c6>CREATE</span> <span style=color:#ff79c6>TABLE</span> invoice_items (
</span></span><span style=display:flex><span>  invoice_id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>REFERENCES</span> invoices (id),
</span></span><span style=display:flex><span>  item_id <span style=color:#8be9fd;font-style:italic>bigint</span> <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>REFERENCES</span> items (id),
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>count</span> <span style=color:#8be9fd;font-style:italic>smallint</span> <span style=color:#ff79c6>NOT</span> <span style=color:#ff79c6>NULL</span> <span style=color:#ff79c6>DEFAULT</span> <span style=color:#bd93f9>1</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>PRIMARY</span> <span style=color:#ff79c6>KEY</span> (invoice_id, item_id)
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><p>If we items of a particular kind in an invoice, itâ€™s just a <code>SELECT</code> away:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#6272a4>-- Select all book entries in invoice # 124
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>SELECT</span> t1.item_id <span style=color:#ff79c6>FROM</span> invoice_items t1 <span style=color:#ff79c6>JOIN</span> items t2 <span style=color:#ff79c6>ON</span> t1.item_id <span style=color:#ff79c6>=</span> t2.id <span style=color:#ff79c6>AND</span> t2.subtype <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;b&#39;</span> <span style=color:#ff79c6>WHERE</span> invoice_id <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>123</span>;
</span></span></code></pre></div><h1 id=other-considerations>Other Considerations</h1><p><a href=https://dba.stackexchange.com/q/50652/259438>Global serial generators are generally discouraged</a>. This isnâ€™t what weâ€™re after though; we want common serials for objects of different kinds but all belonging to a common, super-class. This led me to think of inheritance but didnâ€™t get far with it.</p><p>I did look at other options to avoid the table proliferation problem alone. Hereâ€™re the ones I rejected</p><ol><li>Table Per Type (TPT)<ul><li>This is our inheritance solution</li><li>It solves table proliferation problem but not the <em>unique ID across tables</em> problem</li></ul></li><li>Table Per Hierarchy (TPH)<ul><li>A column for every kind with just one filled (rest null)</li><li>e.g. <code>invoice_items</code> will have columns <code>book_id</code>, <code>toy_id</code>, <code>dress_id</code>, etc. with just one filled per row</li><li>Many redundant columns! Bad!!</li><li>What if a new kind of item comes up? Add more columns! Eww!!</li></ul></li><li>Table Per Concrete (TPC)<ul><li>Solves neither table proliferation nor unique ID across tables problem</li></ul></li></ol><p>Refer <a href=https://stackoverflow.com/q/190296/183120>Model Inheritance in a DB</a> and <a href=https://stackoverflow.com/q/3579079/183120>How can you represent inheritance in a database?</a> StackOverflow posts for details.</p><h1 id=references>References</h1><ol><li><a href=https://www.postgresql.org/docs/15/ddl-inherit.html>Inheritance - PostgreSQL Manual</a></li><li><a href=https://stackoverflow.com/q/56637251/183120>Inheritance: Caveats - PostgreSQL Manual</a></li><li><a href=https://www.postgresql.org/docs/15/ddl-inherit.html#DDL-INHERIT-CAVEATS>Violation of uniqueness in primary key when using inheritance - StackOverflow</a></li><li><a href=https://stackoverflow.com/a/11966555/183120>Why foreign keys must reference a unique key in PostgreSQL - StackOverflow</a></li><li><a href=https://dba.stackexchange.com/q/50652/259438>Sharing a single primary key sequence across a database?</a></li><li><a href=https://stackoverflow.com/q/190296/183120>How do you effectively model inheritance in a database?</a></li><li><a href=https://stackoverflow.com/a/27415430/183120>Super-type and Sub-types arrangement - StackOverflow</a> - My inspiration but not solution</li><li><a href=https://stackoverflow.com/q/3579079/183120>How can you represent inheritance in a database?</a></li><li><a href=https://stackoverflow.com/q/7844460/183120>Foreign Key to multiple tables</a></li></ol><h1 id=appendix-tables-definitions>Appendix: Tables Definitions</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># \d items</span>
</span></span><span style=display:flex><span>                      Table <span style=color:#f1fa8c>&#34;public.items&#34;</span>
</span></span><span style=display:flex><span> Column  |         Type         | Collation | Nullable | Default 
</span></span><span style=display:flex><span>---------+----------------------+-----------+----------+---------
</span></span><span style=display:flex><span> id      | bigint               |           | not null | 
</span></span><span style=display:flex><span> subtype | character varying<span style=color:#ff79c6>(</span>1<span style=color:#ff79c6>)</span> |           | not null | 
</span></span><span style=display:flex><span>Indexes:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;items_pkey&#34;</span> PRIMARY KEY, btree <span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;items_id_subtype_key&#34;</span> UNIQUE CONSTRAINT, btree <span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>Check constraints:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;items_subtype_check&#34;</span> CHECK <span style=color:#ff79c6>(</span>subtype::text <span style=color:#ff79c6>=</span> ANY <span style=color:#ff79c6>(</span>ARRAY<span style=color:#ff79c6>[</span><span style=color:#f1fa8c>&#39;b&#39;</span>::character varying, <span style=color:#f1fa8c>&#39;t&#39;</span>::character varying<span style=color:#ff79c6>]</span>::text<span style=color:#ff79c6>[]))</span>
</span></span><span style=display:flex><span>Referenced by:
</span></span><span style=display:flex><span>    TABLE <span style=color:#f1fa8c>&#34;books&#34;</span> CONSTRAINT <span style=color:#f1fa8c>&#34;books_id_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>    TABLE <span style=color:#f1fa8c>&#34;books&#34;</span> CONSTRAINT <span style=color:#f1fa8c>&#34;books_id_subtype_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>    TABLE <span style=color:#f1fa8c>&#34;toys&#34;</span> CONSTRAINT <span style=color:#f1fa8c>&#34;toys_id_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>    TABLE <span style=color:#f1fa8c>&#34;toys&#34;</span> CONSTRAINT <span style=color:#f1fa8c>&#34;toys_id_subtype_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># \d books</span>
</span></span><span style=display:flex><span>                              Table <span style=color:#f1fa8c>&#34;public.books&#34;</span>
</span></span><span style=display:flex><span> Column  |         Type          | Collation | Nullable |        Default         
</span></span><span style=display:flex><span>---------+-----------------------+-----------+----------+------------------------
</span></span><span style=display:flex><span> id      | bigint                |           | not null | 
</span></span><span style=display:flex><span> subtype | character varying<span style=color:#ff79c6>(</span>1<span style=color:#ff79c6>)</span>  |           | not null | <span style=color:#f1fa8c>&#39;b&#39;</span>::character varying
</span></span><span style=display:flex><span> author  | character varying<span style=color:#ff79c6>(</span>32<span style=color:#ff79c6>)</span> |           | not null | 
</span></span><span style=display:flex><span>Indexes:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;books_pkey&#34;</span> PRIMARY KEY, btree <span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>Check constraints:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;books_subtype_check&#34;</span> CHECK <span style=color:#ff79c6>(</span>subtype::text <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;b&#39;</span>::text<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>Foreign-key constraints:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;books_id_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;books_id_subtype_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># \d toys</span>
</span></span><span style=display:flex><span>                                    Table <span style=color:#f1fa8c>&#34;public.toys&#34;</span>
</span></span><span style=display:flex><span> Column  |         Type          | Collation | Nullable |             Default              
</span></span><span style=display:flex><span>---------+-----------------------+-----------+----------+----------------------------------
</span></span><span style=display:flex><span> id      | bigint                |           | not null | 
</span></span><span style=display:flex><span> subtype | character varying<span style=color:#ff79c6>(</span>1<span style=color:#ff79c6>)</span>  |           | not null | <span style=color:#f1fa8c>&#39;t&#39;</span>::character varying
</span></span><span style=display:flex><span> colour  | character varying<span style=color:#ff79c6>(</span>16<span style=color:#ff79c6>)</span> |           | not null | <span style=color:#f1fa8c>&#39;TRANSPARENT&#39;</span>::character varying
</span></span><span style=display:flex><span>Indexes:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;toys_pkey&#34;</span> PRIMARY KEY, btree <span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>Check constraints:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;toys_subtype_check&#34;</span> CHECK <span style=color:#ff79c6>(</span>subtype::text <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;t&#39;</span>::text<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>Foreign-key constraints:
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;toys_id_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;toys_id_subtype_fkey&#34;</span> FOREIGN KEY <span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span> REFERENCES items<span style=color:#ff79c6>(</span>id, subtype<span style=color:#ff79c6>)</span>
</span></span></code></pre></div><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>1NF = no list in a cell, 2NF = avoid groups of redundant data by moving them to separate tables and linking them, 3NF = move data not dependent on key to its own table; normal forms beyond these arenâ€™t very practical. <a href=https://learn.microsoft.com/en-us/office/troubleshoot/access/database-normalization-description>MSDN article with examples</a>.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class="post-footer clearfix"><p class=post-tags><span>Tagged:</span>
<a href=/tags/tech/>tech</a>,
<a href=/tags/database/>database</a></p><div class=share><a class=icon-twitter href="https://twitter.com/share?text=Primary%20Key%20across%20Tables&url=https%3a%2f%2flegends2k.github.io%2fnote%2fpkey_across_tables%2f" onclick='return window.open(this.href,"twitter-share","width=550,height=235"),!1' aria-label="Share on Twitter"><i class="fa fa-twitter" aria-hidden=true></i>
</a><a class=icon-facebook href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flegends2k.github.io%2fnote%2fpkey_across_tables%2f" onclick='return window.open(this.href,"facebook-share","width=580,height=296"),!1' aria-label="Share on Facebook"><i class="fa fa-facebook" aria-hidden=true></i>
</a><a class=icon-linkedin href="https://www.linkedin.com/shareArticle?mini=true&title=Primary%20Key%20across%20Tables&url=https%3a%2f%2flegends2k.github.io%2fnote%2fpkey_across_tables%2f&summary=Unique%20IDs%20across%20different%20tables" onclick='return window.open(this.href,"linkedin-share","width=554,height=481"),!1' aria-label="Share on LinkedIn"><i class="fa fa-linkedin" aria-hidden=true></i></a></div></footer></article></div></div></div><footer class=footer><div class=container><div class=site-title-wrapper><h1 class=site-title><a title="Bits of Insight" href=https://legends2k.github.io/><i class="fa fa-home"></i></a></h1><a class="button-square button-jump-top js-jump-top" href=#><i class="fa fa-angle-double-up"></i></a></div><p class=footer-copyright><a title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License" rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png></a></p><p class=footer-copyright><span>Rendered by <a href=https://gohugo.io/>Hugo</a></span></p><p class=footer-copyright><span>Composed with <a href=https://www.gnu.org/software/emacs/>GNU Emacs</a></span></p><p class=footer-copyright>Occured to <a href=https://legends2k.github.io/about/>Sundaram Ramaswamy</a></span></p></div></footer><script src=https://legends2k.github.io/js/jquery-1.11.3.min.js></script><script src=https://legends2k.github.io/js/jquery.fitvids.js></script><script src=https://legends2k.github.io/js/scripts.js></script></body></html>