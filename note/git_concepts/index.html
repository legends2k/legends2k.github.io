

<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>I Git it! &middot; Sundaram Ramaswamy</title>
        <meta name="description" content="Summary of my ‚ÄòAha!‚Äô moments with Git">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.55.3" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="icon" href="/images/pencil-square-o.svg" sizes="any" type="image/svg+xml">
        <meta property="og:title" content="I Git it!">
<meta property="og:description" content="Summary of my ‚ÄòAha!‚Äô moments with Git">
<meta property="og:type" content="article">
<meta property="og:url" content="https://legends2k.github.io/note/git_concepts/">
        <link rel="stylesheet" href="https://legends2k.github.io/dist/styles.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.5.0/hint.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        
        
        
        
        </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <a class="button-square hint--top hint--rounded hint--bounce" aria-label="Home" title="Home" href="https://legends2k.github.io/" rel="me">
                                <i class="fa fa-home"></i>
                            </a>
                        
                        <a class="button-square hint--top hint--rounded hint--bounce"
                           aria-label="RSS Feed" title="RSS Feed" href="https://legends2k.github.io/index.xml"><i class="fa fa-rss"></i></a>
                        
                        
                        
                            <a class="button-square hint--top hint--rounded hint--bounce" aria-label="Github" title="Github" href="https://github.com/legends2k" rel="me">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                        
                            <a class="button-square hint--top hint--rounded hint--bounce" aria-label="Bitbucket" title="Bitbucket" href="https://bitbucket.org/rmsundaram" rel="me">
                                <i class="fa fa-bitbucket"></i>
                            </a>
                        
                        
                            <a class="button-square hint--top hint--rounded hint--bounce" aria-label="Stack Overflow" title="Stack Overflow" href="https://stackoverflow.com/users/183120/legends2k" rel="me">
                                <i class="fa fa-stack-overflow"></i>
                            </a>
                        
                        
                            <a class="button-square hint--top hint--rounded hint--bounce" aria-label="LinkedIn" title="LinkedIn" href="https://in.linkedin.com/pub/sundaram-ramaswamy/24/b20/1a0" rel="me">
                                <i class="fa fa-linkedin"></i>
                            </a>
                        
                        
                        
                            <a class="button-square hint--top hint--rounded hint--bounce" aria-label="Flickr" title="Flickr" href="https://flickr.com/photos/legends2k" rel="me">
                                <i class="fa fa-flickr"></i>
                            </a>
                        
                        
                            <a class="button-square hint--top hint--rounded hint--bounce" aria-label="Email" title="Email" href="mailto:legends2k@yahoo.com">
                                <i class="fa fa-envelope"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="Articles" href="/post/">Articles</a>
    </li>

    <li class="site-nav-item">
        <a title="Notes" href="/note/">Notes</a>
    </li>

    <li class="site-nav-item">
        <a title="Projects" href="/projects/">Projects</a>
    </li>

    <li class="site-nav-item">
        <a title="About" href="/about/">About</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">I Git it!</h1>
    
        <p class="post-description" itemprop="description">Summary of my ‚ÄòAha!‚Äô moments with Git</p>
    
    <p class="post-date">
        <span>

  



  

<time datetime="2019-02-20" itemprop="dateUpdated">Updated Thu, Apr 25, 2019</time>
        </span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="https://legends2k.github.io/about/" itemprop="url" rel="author">Sundaram Ramaswamy</a>
            </span>
        </span>
    </p>
    
</header>


        <div class="post-content clearfix" itemprop="articleBody">
    

    

<p>Basics like initializing (a repository), staging and commiting files aren‚Äôt explained here; they simply make sense; no ‚ÄòAha!‚Äôs there.  Moving references, branching and merging &mdash; coupled with Git‚Äôs arcane command names<sup class="footnote-ref" id="fnref:3"><a href="#fn:3">1</a></sup> &mdash; are the confusing parts.</p>

<h1 id="basics">Basics</h1>

<ul>
<li>Git is a distributed VCS; each repo can be both a server/client</li>
<li>Honestly, <code>git</code> (sub)commands are just graph manipulating commands</li>
<li>Every codebase is made of a graph; each commit is a node with edges to parent(s)<sup class="footnote-ref" id="fnref:5"><a href="#fn:5">2</a></sup>

<ul>
<li>Git diagrams often have arrows backwards (‚Üê) for this reason</li>
</ul></li>
<li>Git stores <a href="https://git-scm.com/book/en/v1/Getting-Started-Git-Basics#_snapshots_not_differences">snapshots not differences</a> i.e. entire file contents &mdash; as a blob

<ul>
<li>Every commit is a complete <a href="http://think-like-a-git.net/sections/graphs-and-git.html">snapshot of tracked repo contents + (0 or more) parent ID(s)</a> identified with a 40-byte <a href="https://en.wikipedia.org/wiki/SHA-1">SHA-1</a> hash</li>
<li>This way, the exact state of your project can be referred to, copied, or restored at any time</li>
</ul></li>
</ul>

<blockquote>
<p>&ldquo;finally figuring out that git commands are strangely named graph manipulation commands &ndash; creating/deleting nodes, moving around pointers&rdquo;
   &ndash; Kent Beck</p>
</blockquote>

<ul>
<li>Nodes of the graph are created by your commits</li>
<li>Nodes are never really deleted in the traditional sense; they‚Äôre made unreachable (see below)

<ul>
<li>These unreachable nodes eventually get <a href="http://think-like-a-git.net/sections/graphs-and-git/garbage-collection.html">garbage collected</a> by Git</li>
</ul></li>
</ul>

<h1 id="reachablity">Reachablity</h1>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cfg" data-lang="cfg">      <span style="color:#50fa7b">A---B---C</span>
     <span style="color:#50fa7b">/</span>
<span style="color:#50fa7b">D---E---F---G</span>
     <span style="color:#50fa7b">\</span>
      <span style="color:#50fa7b">H---I</span></code></pre></div>

<p>An important (linked-list) concept that applies to Git too.</p>

<blockquote>
<p>If <code>void* first</code> is lost, the list, too, is lost.</p>
</blockquote>

<ul>
<li>Since a commit also has parent commit(s) (except root), following the chain of parents will eventually take you back to the beginning of the project</li>
<li>In a well-branched graph, depending on the leaf node you start from, <a href="http://think-like-a-git.net/sections/graph-theory/reachability.html">different parts of the graph will be <em>reachable</em></a></li>
<li><a href="https://git-scm.com/docs/user-manual#understanding-reachability">Commit X is &ldquo;reachable&rdquo; from commit Y if commit X is an ancestor of commit Y</a>

<ul>
<li>In the above example, <code>A</code>, <code>B</code> and <code>C</code> are unreachable from <code>G</code>, so are <code>F</code> and <code>G</code> when starting from <code>C</code> or <code>B</code> or <code>A</code></li>
</ul></li>
<li>The <code>gc</code> subcommand walks through the graph, building a list of every commit it can reach; removes unreachable ones

<ul>
<li>Will clear-up disk space; no good reason to run it often</li>
<li>Some Git subcommands <a href="https://git-scm.com/docs/git-gc">may run it automatically</a> too!</li>
</ul></li>
</ul>

<h1 id="references">References</h1>

<blockquote>
<p>&ldquo;References make commits reachable&rdquo;
  &ndash; <a href="http://think-like-a-git.net/sections/experimenting-with-git.html">Think like a Git</a></p>
</blockquote>

<ul>
<li>Plainly, <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-References">references</a> are &ldquo;meaningful&rdquo; names to some commits

<ul>
<li>They facilitate easy git-speak with your friends/colleagues üòú</li>
<li>Branches and tags are references too</li>
</ul></li>
<li>Creating a branch is a way to &ldquo;nail down&rdquo; part of the graph that you want to return to later (<a href="http://think-like-a-git.net/sections/graph-theory/reachability.html">reachability</a>)</li>
<li>Just a reference-named <a href="http://think-like-a-git.net/sections/graphs-and-git/references.html">file containing a 40-byte commit ID</a>

<ul>
<li>They‚Äôre specific to a single repository</li>
<li>Remote references are local, remote-tracking references to a commit in a remote repository <sup class="footnote-ref" id="fnref:4"><a href="#fn:4">3</a></sup></li>
</ul></li>
<li>There‚Äôre many more ways of referring to commits: <code>man gitrevisions</code> is your friend</li>
</ul>

<h2 id="commands-affecting-refs">Commands Affecting Refs</h2>

<p>These are the primary subcommands that allow you to move refs directly:</p>

<ul>
<li><code>commit</code></li>
<li><code>merge</code></li>
<li><code>rebase</code></li>
<li><code>reset</code></li>
</ul>

<p>Subcommands that affect moving remote refs:</p>

<ul>
<li><code>fetch</code></li>
<li><code>push</code></li>
</ul>

<p>Commands like <code>pull</code>, <code>cherry-pick</code>, ‚Ä¶ work atop these.</p>

<h1 id="checkout-vs-reset">Checkout vs Reset</h1>

<p>To understand both commands, you first need to understand <code>HEAD</code><sup class="footnote-ref" id="fnref:1"><a href="#fn:1">4</a></sup>.  Most people know about the working tree and stating area but not <code>HEAD</code>.</p>

<p><a href="https://stackoverflow.com/q/5772192/183120"><code>HEAD</code></a> references the currently checked out commit; your working tree will mostly be from this snapshot i.e. the commit pointed to by <code>HEAD</code>.  <a href="https://www.git-scm.com/book/en/v2/Git-Tools-Reset-Demystified">Pro Git</a> summarizes this nicely</p>

<blockquote>
<p><code>HEAD</code> will be the parent of the next commit that is created.</p>
</blockquote>

<h2 id="checkout">Checkout</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">checkout</span> <span style="color:#8be9fd;font-style:italic">HEAD</span> <span style="color:#ff79c6">--</span> <span style="color:#8be9fd;font-style:italic">file</span></code></pre></div>

<p>When you <code>checkout</code> a <code>file</code> from <code>HEAD</code>, what you do is get a clean copy of <code>file</code> from the commit <code>HEAD</code> is pointing to; this <em>replaces</em> your working tree copy.  Of course, one could use other refs too, <code>HEAD</code> is just a convenient default, you can replace it with any ref; if <code>HEAD</code> is omitted, it‚Äôll be from index &mdash; the stage.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">checkout</span> <span style="color:#8be9fd;font-style:italic">topic</span></code></pre></div>

<p>When you checkout a branch (reference to a commit/node) e.g. <code>topic</code>, <code>HEAD</code> will be moved to that branch and hence the entire working tree, not just a file, will be from the snapshot of the commit that branch is pointing to.</p>

<h2 id="reset">Reset</h2>

<p>Plainly, <code>reset</code> moves <code>HEAD</code> around.  It‚Äôs used to move <code>HEAD</code> to a given commit.  There‚Äôre different flavours of doing this &mdash; depending on what happens to the index and working tree (<code>--hard</code>, <code>--soft</code>, <code>--mix</code> ‚Ä¶) &mdash; but the crux is to move <code>HEAD</code>.</p>

<p>When moving, <code>HEAD</code> will also move the branch reference along with it, if it‚Äôs <em>attached</em>.</p>

<h3 id="detached-head">Detached <code>HEAD</code></h3>

<p>Whoa! Slow down there, cowboy.  Before talking about detached, what‚Äôs the attached state of <code>HEAD</code>?  We already know that <code>HEAD</code> is just a reference to a commit.  Say this commit also has another reference pointing to it: a branch name.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#8be9fd;font-style:italic">C1</span> <span style="color:#ff79c6">&lt;--</span> <span style="color:#8be9fd;font-style:italic">C2</span> <span style="color:#ff79c6">&lt;--</span> <span style="color:#8be9fd;font-style:italic">C3</span> <span style="color:#ff79c6">&lt;--</span> <span style="color:#8be9fd;font-style:italic">C4</span> <span style="color:#ff79c6">&lt;--</span> <span style="color:#8be9fd;font-style:italic">C5</span> <span style="color:#ff79c6">&lt;--</span> <span style="color:#8be9fd;font-style:italic">master</span>
                             <span style="color:#ff79c6">^</span>
                             <span style="color:#ff79c6">|</span>
                            <span style="color:#8be9fd;font-style:italic">HEAD</span></code></pre></div>

<blockquote>
<p>When <code>HEAD</code> is moved by <code>reset</code>, if it‚Äôs attached to a branch, that reference will move along with <code>HEAD</code>.</p>
</blockquote>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">reset</span> <span style="color:#ff79c6">--</span><span style="color:#8be9fd;font-style:italic">hard</span> <span style="color:#8be9fd;font-style:italic">C3</span></code></pre></div>

<p>would move <em>both</em> <code>HEAD</code> and <code>master</code> to <code>C3</code><sup class="footnote-ref" id="fnref:2"><a href="#fn:2">5</a></sup>.  <code>HEAD</code> would continue to be attached.  Now if it weren‚Äôt attached, it‚Äôll only move <code>HEAD</code> leaving <code>master</code> behind, hence the <em>detached</em> <code>HEAD</code> state<sup class="footnote-ref" id="fnref:6"><a href="#fn:6">6</a></sup>.</p>

<p>There‚Äôre a couple of ways to identify if <code>HEAD</code> is detached.  <code>git¬†status</code>‚Äôs very first line will tell you:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#ff79c6">&gt;</span> <span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">status</span>
<span style="color:#8be9fd;font-style:italic">On</span> <span style="color:#8be9fd;font-style:italic">branch</span> <span style="color:#8be9fd;font-style:italic">master</span>
‚Ä¶
<span style="color:#ff79c6">&gt;</span> <span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">status</span>
# <span style="color:#8be9fd;font-style:italic">HEAD</span> <span style="color:#8be9fd;font-style:italic">detached</span> <span style="color:#8be9fd;font-style:italic">at</span> <span style="color:#8be9fd;font-style:italic">847</span><span style="color:#8be9fd;font-style:italic">fe59</span></code></pre></div>

<p>Another way is to use <code>git¬†log</code>; I learnt from this actually.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#ff79c6">&gt;</span> <span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">log</span> <span style="color:#ff79c6">--</span><span style="color:#8be9fd;font-style:italic">oneline</span> <span style="color:#ff79c6">--</span><span style="color:#8be9fd;font-style:italic">all</span> <span style="color:#bd93f9">-5</span>
<span style="color:#8be9fd;font-style:italic">847</span><span style="color:#8be9fd;font-style:italic">fe59</span> (<span style="color:#8be9fd;font-style:italic">HEAD</span> <span style="color:#ff79c6">-&gt;</span> <span style="color:#8be9fd;font-style:italic">master</span>) <span style="color:#8be9fd;font-style:italic">Initial</span> <span style="color:#8be9fd;font-style:italic">commit</span>
‚Ä¶
<span style="color:#ff79c6">&gt;</span> <span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">log</span> <span style="color:#ff79c6">--</span><span style="color:#8be9fd;font-style:italic">oneline</span> <span style="color:#ff79c6">--</span><span style="color:#8be9fd;font-style:italic">all</span> <span style="color:#bd93f9">-5</span>
<span style="color:#8be9fd;font-style:italic">847</span><span style="color:#8be9fd;font-style:italic">fe59</span> (<span style="color:#8be9fd;font-style:italic">HEAD</span>, <span style="color:#8be9fd;font-style:italic">master</span>) <span style="color:#8be9fd;font-style:italic">Initial</span> <span style="color:#8be9fd;font-style:italic">commit</span></code></pre></div>

<p>Note that when <code>HEAD</code> is attached, you see an arrow (‚Üí) pointing to the branch it‚Äôs attached to.  However, in the detached state they‚Äôre list as independent items.</p>

<h3 id="attach-detaching-head">Attach/Detaching <code>HEAD</code></h3>

<p>How do we attach or detach <code>HEAD</code> to a reference?  Both are done with <code>checkout</code>, but with a subtle difference.  To attach <code>HEAD</code>, you‚Äôd <code>checkout</code></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#ff79c6">&gt;</span> <span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">checkout</span> <span style="color:#8be9fd;font-style:italic">master</span></code></pre></div>

<p><em>When you checkout a commit by using anything other than a branch name (commit ID, HEAD~1, branch~3, HEAD^^, etc.), you‚Äôd detach <code>HEAD</code></em> i.e. Git wouldn‚Äôt know what to associate <code>HEAD</code> with.  When you want to poke around and see how the repository looked like at a particular unnamed commit (except for its commit ID), this is what you would normally do.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#ff79c6">&gt;</span> <span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">checkout</span> <span style="color:#8be9fd;font-style:italic">lk3nw7ef</span></code></pre></div>

<p>Here, it doesn‚Äôt matter if this commit has other branch references to it.  Since you referred to it using the raw commit ID, Git takes it as a cue to detach <code>HEAD</code>.</p>

<p>I highly recommend playing around in <a href="https://git-school.github.io/visualizing-git/">Visualizing Git</a> with <code>checkout</code>, <code>reset</code>; get your hands dirty with the whole attach/detach business.  Here‚Äôs a small snippet to get you started; see what happens as each command gets executed:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">commit</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">commit</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">commit</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">commit</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">commit</span>
# <span style="color:#8be9fd;font-style:italic">create</span> <span style="color:#8be9fd;font-style:italic">topic</span> <span style="color:#8be9fd;font-style:italic">branch</span> <span style="color:#8be9fd;font-style:italic">and</span> <span style="color:#8be9fd;font-style:italic">checkout</span>; <span style="color:#8be9fd;font-style:italic">HEAD</span> <span style="color:#8be9fd;font-style:italic">now</span> <span style="color:#8be9fd;font-style:italic">attached</span> <span style="color:#8be9fd;font-style:italic">to</span> <span style="color:#8be9fd;font-style:italic">topic</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">checkout</span> <span style="color:#ff79c6">-</span><span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#8be9fd;font-style:italic">topic</span>
# <span style="color:#8be9fd;font-style:italic">move</span> <span style="color:#8be9fd;font-style:italic">HEAD</span> <span style="color:#8be9fd;font-style:italic">one</span> <span style="color:#8be9fd;font-style:italic">commit</span> <span style="color:#8be9fd;font-style:italic">behind</span> <span style="color:#8be9fd;font-style:italic">topic</span>; <span style="color:#8be9fd;font-style:italic">this</span> <span style="color:#8be9fd;font-style:italic">will</span> <span style="color:#8be9fd;font-style:italic">also</span> <span style="color:#8be9fd;font-style:italic">move</span> <span style="color:#8be9fd;font-style:italic">topic</span> <span style="color:#8be9fd;font-style:italic">with</span> <span style="color:#8be9fd;font-style:italic">HEAD</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">reset</span> <span style="color:#8be9fd;font-style:italic">topic</span><span style="color:#ff79c6">~</span><span style="color:#8be9fd;font-style:italic">1</span>
# <span style="color:#8be9fd;font-style:italic">detach</span> <span style="color:#8be9fd;font-style:italic">HEAD!</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">checkout</span> <span style="color:#8be9fd;font-style:italic">HEAD</span><span style="color:#ff79c6">~</span><span style="color:#8be9fd;font-style:italic">2</span>
# <span style="color:#8be9fd;font-style:italic">attach</span> <span style="color:#8be9fd;font-style:italic">to</span> <span style="color:#8be9fd;font-style:italic">master</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">checkout</span> <span style="color:#8be9fd;font-style:italic">master</span>
# <span style="color:#8be9fd;font-style:italic">move</span> <span style="color:#8be9fd;font-style:italic">back</span> <span style="color:#8be9fd;font-style:italic">master</span> <span style="color:#8be9fd;font-style:italic">by</span> <span style="color:#8be9fd;font-style:italic">3</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">reset</span> <span style="color:#8be9fd;font-style:italic">master</span><span style="color:#ff79c6">~</span><span style="color:#8be9fd;font-style:italic">3</span>
# <span style="color:#8be9fd;font-style:italic">move</span> <span style="color:#8be9fd;font-style:italic">master</span> <span style="color:#8be9fd;font-style:italic">forward</span><span style="color:#ff79c6">/</span><span style="color:#8be9fd;font-style:italic">backward</span> <span style="color:#8be9fd;font-style:italic">with</span> <span style="color:#8be9fd;font-style:italic">commit</span> <span style="color:#8be9fd;font-style:italic">ID</span>
<span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">reset</span> <span style="color:#8be9fd;font-style:italic">f08ad6</span></code></pre></div>

<h1 id="rebase">Rebase</h1>

<p><code>rebase</code>  seems to have a scary reputation on the web, with good reason of course.  It‚Äôs infamous for rewriting history; something your teammates mightn‚Äôt take kindly.  However, when you‚Äôre doing this only locally, within your repo, before pushing, it‚Äôs a great tool.</p>

<blockquote>
<p>The crux of a <code>rebase</code>: given a subgraph‚Äôs root node, <code>rebase</code> changes its parent pointer from one node to another; thereby <em>rebasing</em> the entire subgraph to a new parent.</p>
</blockquote>

<p>Take note, a commit is not just its contents but also includes its parent(s).  So any kind of rebase entails &mdash; since the parent/lineage is changed &mdash; a <a href="https://stackoverflow.com/a/4629407/183120">change of commit ID</a> for the same commit contents.</p>

<p>Interactive rebase (<code>rebase -i</code>) is quite useful.  I frequently use it to amend (not just the recent commit), fix, reword, edit, drop or squash commits.  During an interactive rebase, one can even create multiple commits as usual and continue with the rebase; things will be taken care of!  This is normal when <a href="https://stackoverflow.com/q/6217156/183120">dividing</a> a commit into smaller parts.</p>

<h2 id="pull-fetch-merge-rebase">pull = fetch + <del>merge</del> rebase? ü§î</h2>

<p>When pulling from a remote branch, you might know that your changes are unrelated to the ones coming down.  In this case, to avoid a merge commit and have a linear commit history, you‚Äôd pass <code>--rebase</code> do override the default merge strategy of <code>pull</code>: merge.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-basic" data-lang="basic"><span style="color:#8be9fd;font-style:italic">git</span> <span style="color:#8be9fd;font-style:italic">pull</span> <span style="color:#ff79c6">--</span><span style="color:#8be9fd;font-style:italic">rebase</span> <span style="color:#8be9fd;font-style:italic">origin</span> <span style="color:#8be9fd;font-style:italic">master</span></code></pre></div>

<p><code>git¬†pull</code> is just <code>git¬†fetch</code> followed by <code>git¬†merge</code> which creates a new merge commit.  <code>git¬†pull¬†--rebase</code>, however, is <code>git¬†fetch</code> and <code>git¬†rebase</code>; it pulls commits from remote to your current branch and then replay your commits atop your current branch‚Äôs tip &ndash; this works if there‚Äôre no merge conflicts; otherwise you‚Äôve to resolve conflicts as you‚Äôd normally.  The resolution (changes) become a part of one of your commits where rebase halted; you‚Äôd end up <a href="https://stackoverflow.com/a/35025978/183120">re-writing your commit</a>.  However, you don‚Äôt have to force push your changes to the remote since the resolution just happened in your local commits.  Rewriting of (commit) history, as long as it is not public, is OK üòâ</p>

<p>A counter point to pull-with-rebase: if you want logical separation of a set of commits, say for a completely new feature, then rebase &mdash; which makes them inline, muddled with unrelated history &mdash; isn‚Äôt the right tool; use <code>merge</code> instead.</p>

<blockquote>
<p>Use <code>git pull --rebase</code> when your changes do not deserve a separate branch.</p>
</blockquote>

<p>seems to be the appropriate answer to <a href="https://stackoverflow.com/q/2472254/183120">when should I <code>git pull --rebase</code></a>.</p>

<h1 id="learn-by-doing">Learn by Doing</h1>

<p><a href="https://try.github.io/">try.github.io</a> for good DIY resources.</p>

<ul>
<li><a href="https://git-school.github.io/visualizing-git/">Visualizing Git</a> &ndash; lets you visualize your git commands</li>
<li><a href="http://onlywei.github.io/explain-git-with-d3/">Visualizing Git Concepts with D3</a> &ndash; explains commands with interactive images</li>
<li>A <a href="http://marklodato.github.io/visual-git-guide/index-en.html">Visual Git Reference</a> &ndash; explains commands with images</li>
</ul>

<h1 id="references-1">References</h1>

<ol>
<li><a href="http://think-like-a-git.net/">Think like a Git</a></li>
<li><a href="https://git-scm.com/book/en/v2">Pro Git</a></li>
<li><a href="https://www.atlassian.com/git/tutorials">Git Tutorials by Atlassian</a></li>
<li><a href="http://gitready.com/">Git Ready</a></li>
</ol>
<div class="footnotes">

<hr />

<ol>
<li id="fn:3"><a href="https://magit.vc/">Magit</a> &ndash; Git porcelain for Emacs &ndash; shields me mostly but knowing them helps.
 <a class="footnote-return" href="#fnref:3">‚Ü©</a></li>
<li id="fn:5">Merge commits have more than one parent.
 <a class="footnote-return" href="#fnref:5">‚Ü©</a></li>
<li id="fn:4">Remote-tracking branches (<code>origin/master</code>) are <a href="https://stackoverflow.com/q/7642273/183120">different</a> from remote branches (<code>origin master</code>); former is local, updated by <code>fetch</code>ing from the latter.
 <a class="footnote-return" href="#fnref:4">‚Ü©</a></li>
<li id="fn:1">Case-sensitive!  <em>HEAD</em> will be the parent of a new commit in working tree, while a branch‚Äôs <em>head</em> means its tip; see <a href="https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefbranchabranch">glossary</a>.
 <a class="footnote-return" href="#fnref:1">‚Ü©</a></li>
<li id="fn:2">Using <code>C3</code> for readability; substitute with proper commit ID.
 <a class="footnote-return" href="#fnref:2">‚Ü©</a></li>
<li id="fn:6">Refer <code>man git-checkout</code>; <em>¬ßDETACHED HEAD</em> details with nice ASCII art ‚ú®.
 <a class="footnote-return" href="#fnref:6">‚Ü©</a></li>
</ol>
</div>

</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/tech/">tech</a>, 
            
                <a href="/tags/vcs/">vcs</a>, 
            
                <a href="/tags/tools/">tools</a>
            
        </p>
    

    <div class="share">
        
            <a class="icon-twitter" href="https://twitter.com/share?text=I%20Git%20it%21&url=https%3a%2f%2flegends2k.github.io%2fnote%2fgit_concepts%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
        

        
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flegends2k.github.io%2fnote%2fgit_concepts%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fa fa-facebook"></i>
                <span class="hidden">Facebook</span>
            </a>
        

        
            <a class="icon-google-plus" href="https://plus.google.com/share?url=https%3a%2f%2flegends2k.github.io%2fnote%2fgit_concepts%2f"
              onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
              <i class="fa fa-google-plus"></i>
                <span class="hidden">Google+</span>
            </a>
        
        
            <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&title=I%20Git%20it%21&url=https%3a%2f%2flegends2k.github.io%2fnote%2fgit_concepts%2f&summary=Summary%20of%20my%20%e2%80%98Aha%21%e2%80%99%20moments%20with%20Git"
               onclick="window.open(this.href, 'linkedin-share', 'width=554,height=481');return false;">
               <i class="fa fa-linkedin"></i>
               <span class="hidden">LinkedIn</span>
            </a>
        
    </div>
</footer>

        
    <div class="comments">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "legends2k" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="Bits of Insight" href="https://legends2k.github.io/"><i class="fa fa-home"></i></a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-double-up"></i>
                    </a>
                </div>

                <p class="footer-copyright"><a title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a></p>
                <p class="footer-copyright"><span>Rendered by <a href="https://gohugo.io/">Hugo</a></span></p>
                <p class="footer-copyright"><span>Composed with <a href="https://www.gnu.org/software/emacs/">GNU Emacs</a></span></p>
                <p class="footer-copyright">Occured to <a href="https://legends2k.github.io/about/">Sundaram Ramaswamy</a></span></p>
            </div>
        </footer>

        <script src="https://legends2k.github.io/js/jquery-1.11.3.min.js"></script>
        <script src="https://legends2k.github.io/js/jquery.fitvids.js"></script>
        <script src="https://legends2k.github.io/js/scripts.js"></script>
    </body>
</html>

