<!doctype html><html prefix="og: http://ogp.me/ns#"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>GRUB Recovery &#183; Sundaram Ramaswamy</title>
<meta name=description content="after a Windows boot loader overwrite"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=generator content="Hugo 0.130.0"><meta name=robots content="index,follow"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/pencil-square-o.svg sizes=any type=image/svg+xml><meta property="og:title" content="GRUB Recovery"><meta property="og:description" content="after a Windows boot loader overwrite"><meta property="og:type" content="article"><meta property="og:url" content="https://legends2k.github.io/note/grub2_recovery/"><link rel=stylesheet href=https://legends2k.github.io/dist/styles.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.5.0/hint.min.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css></head><body><div id=wrapper><header class=site-header><div class=container><div class=site-title-wrapper><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Home title=Home href=https://legends2k.github.io/ rel=me><i class="fa fa-home"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label="RSS Feed" title="RSS Feed" href=https://legends2k.github.io/index.xml><i class="fa fa-rss"></i></a>
<a class="button-square hint--top hint--rounded hint--bounce" aria-label=Github title=Github href=https://github.com/legends2k rel=me><i class="fa fa-github-alt"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Bitbucket title=Bitbucket href=https://bitbucket.org/rmsundaram rel=me><i class="fa fa-bitbucket"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label="Stack Overflow" title="Stack Overflow" href=https://stackoverflow.com/users/183120/legends2k rel=me><i class="fa fa-stack-overflow"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=LinkedIn title=LinkedIn href=https://in.linkedin.com/pub/sundaram-ramaswamy/24/b20/1a0 rel=me><i class="fa fa-linkedin"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Flickr title=Flickr href=https://flickr.com/photos/legends2k rel=me><i class="fa fa-flickr"></i>
</a><a class="button-square hint--top hint--rounded hint--bounce" aria-label=Email title=Email href=mailto:legends2k@yahoo.com><i class="fa fa-envelope"></i></a></div><ul class=site-nav><li class=site-nav-item><a href=/post/>Posts</a></li><li class=site-nav-item><a href=/note/>Notes</a></li><li class=site-nav-item><a href=/archive/>All Posts</a></li><li class=site-nav-item><a href=/projects/>Projects</a></li><li class=site-nav-item><a href=/about/>About</a></li></ul></div></header><div id=container><div class=container><article class=post-container itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class=post-title itemprop="name headline">GRUB Recovery</h1><p class=post-description itemprop=description>after a Windows boot loader overwrite</p><p class=post-date>Published <time datetime=2019-01-20 itemprop=datePublished>Jan 20, 2019</time>
<span>by</span>
<span itemscope itemprop=author itemtype=https://schema.org/Person><span itemprop=name><a href=https://legends2k.github.io/about/ itemprop=url rel=author>Sundaram Ramaswamy</a>
</span></span><span class=post-update-date>Updated <time datetime=2019-01-20 itemprop=datePublished>Dec 19, 2023</time></span></p></header><div class="post-content clearfix" itemprop=articleBody><p>I tried upgrading the firmware of my old iOmega 1 TB HDD. Internally it’s a <em>Barracuda LP</em> family, ST31000520AS model Segate HDD. Seagate had released a <a href=http://knowledge.seagate.com/articles/en_US/FAQ/213915en>firmware upgrade</a> for this drive in 2010. I’m around 9 years late to the party!</p><p>My laptop doesn’t have a CD-ROM drive, also I prefer burning the ISO to a USB stick &mdash; why waste a CD, eh? <a href=https://rufus.akeo.ie/>Rufus</a> kindly refused as the supplied Seagate update ISO’s boot format was unrecognizable. In the process, I’d tried using another tool &ndash; <em>RMPrepUsb</em> &ndash; in vain. It’d done something, owing to some option I chose of course, to overwrite GRUB2 with Windows boot loader &mdash; some <code>BCDedit</code> command I guess. My meddling with BIOS didn’t help either as GRUB wasn’t even listed in <em>EFI order</em>, so I reverted to orignial settings<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>:</p><table><thead><tr><th>Setting</th><th>Value</th></tr></thead><tbody><tr><td>Boot Mode</td><td>UEFI</td></tr><tr><td>USB Boot</td><td>Enabled</td></tr><tr><td>EFI order</td><td>GRUB, Windows Boot Manager, EFI PXE Network</td></tr><tr><td>Secure Boot</td><td>Disabled</td></tr><tr><td>Fast Boot</td><td>Enabled</td></tr></tbody></table><p>Thanks to <a href=https://wiki.debian.org/GrubEFIReinstall>Debian’s GrubEFIReinstall guide</a>; it made me recall that the <em>Boot Mode</em> should be UEFI; it also gave the way to verify it. I’d to use a UEFI-bootable<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> USB stick with Arch Linux ISO. Things were smooth thereon!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-basic data-lang=basic><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>root@archiso</span> <span style=color:#ff79c6>/</span> # [ <span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>d</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>sys</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>firmware</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>efi</span> ] <span style=color:#ff79c6>&amp;&amp;</span> <span style=color:#8be9fd;font-style:italic>echo</span> <span style=color:#f1fa8c>&#34;EFI boot on HDD&#34;</span> <span style=color:#ff79c6>||</span> <span style=color:#8be9fd;font-style:italic>echo</span> <span style=color:#f1fa8c>&#34;Legacy boot on HDD&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>EFI</span> <span style=color:#8be9fd;font-style:italic>boot</span> <span style=color:#8be9fd;font-style:italic>on</span> <span style=color:#8be9fd;font-style:italic>HDD</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>root@archiso</span> <span style=color:#ff79c6>/</span> # <span style=color:#8be9fd;font-style:italic>mount</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>dev</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>lvmg1</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>root</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>mnt</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>root@archiso</span> <span style=color:#ff79c6>/</span> # <span style=color:#8be9fd;font-style:italic>mount</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>dev</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>nvme0n1p5</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>mnt</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>boot</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>root@archiso</span> <span style=color:#ff79c6>/</span> # <span style=color:#8be9fd;font-style:italic>mount</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>dev</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>lvmg1</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>home</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>mnt</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>home</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>root@archiso</span> <span style=color:#ff79c6>/</span> # <span style=color:#8be9fd;font-style:italic>mount</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>dev</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>sda5</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>mnt</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>var</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>root@archiso</span> <span style=color:#ff79c6>/</span> # <span style=color:#8be9fd;font-style:italic>swapon</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>dev</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>sda6</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>root@archiso</span> <span style=color:#ff79c6>/</span> # <span style=color:#8be9fd;font-style:italic>arch</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>chroot</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>mnt</span></span></span></code></pre></div><p>Once <a href=https://en.wikipedia.org/wiki/Chroot>chroot</a>ed<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>, I’d to reinstall GRUB to fix the issue!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-basic data-lang=basic><span style=display:flex><span><span style=color:#ff79c6>&gt;</span> <span style=color:#8be9fd;font-style:italic>mount</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>dev</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>nvme0n1p1</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>boot</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>efi</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&gt;</span> <span style=color:#8be9fd;font-style:italic>grub</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>install</span> <span style=color:#ff79c6>--</span><span style=color:#8be9fd;font-style:italic>target</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>x86_64</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>efi</span> <span style=color:#ff79c6>--</span><span style=color:#8be9fd;font-style:italic>efi</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>directory</span><span style=color:#ff79c6>=/</span><span style=color:#8be9fd;font-style:italic>boot</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>efi</span> <span style=color:#ff79c6>--</span><span style=color:#8be9fd;font-style:italic>bootloader</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>id</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>GRUB</span></span></span></code></pre></div><p>All is well now 😀</p><h1 id=grub-missing-in-uefis-nvram>GRUB missing in UEFI’s NVRAM</h1><p>On an ArchLinux box (host) with UEFI + GPT setup, I’d to install Ubuntu on an external SSD, for a machine having legacy BIOS (target). I booted host in <em>Legacy Boot</em> mode and installed Ubuntu by marking the first primary partition on the SSD <em>bootable</em>; everything went well. Rebooting showed GRUB on the SSD with both Ubuntu and ArchLinnux. Since target machine won’t have Arch, I’d to turn off os-prober and regenerate GRUB configuration file <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-basic data-lang=basic><span style=display:flex><span># <span style=color:#8be9fd;font-style:italic>cat</span> <span style=color:#ff79c6>&gt;&gt;</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>etc</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>default</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>grub</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>GRUB_DISABLE_OS_PROBER</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># <span style=color:#8be9fd;font-style:italic>update</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>grub</span></span></span></code></pre></div><p>However, after switching back to <em>UEFI Boot</em>, I only saw <em>Windows Boot Manager</em> and <em>EFI PXE Network</em> options; GRUB was missing! Mounting the EFI System Partition (ESP) showed GRUB under <code>/EFI/GRUB/grubx64.efi</code>, so it’s just the NVRAM GRUB was removed from. Reinstalling GRUB by booting from an Arch Linux ISO is an option, but I didn’t want to lose my GRUB customizations like wallpaper, etc. <a href=https://unix.stackexchange.com/a/475245/30580>Thanks to a good Unix.SE answer</a> helped me put GRUB back in NVRAM</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#6272a4># -c creates an entry with -l taking path in ESP at /dev/nvme0n1p1</span>
</span></span><span style=display:flex><span>efibootmgr -c -d /dev/nvme0n1 -p <span style=color:#bd93f9>1</span> -l <span style=color:#f1fa8c>\\</span>EFI<span style=color:#f1fa8c>\\</span>GRUB<span style=color:#f1fa8c>\\</span>grubx64.efi -L GRUB</span></span></code></pre></div><h1 id=see-also>See Also</h1><ul><li><a href=https://wiki.debian.org/GrubEFIReinstall>Debian’s GrubEFIReinstall guide</a> &ndash; like most Debian documents, thorough!</li><li><a href=https://www.dedoimedo.com/computers/grub2-efi-recovery.html>GRUB2 & EFI Recovery Tutorial</a> seems to be a detailed guide with multiple methods; I only glanced it.</li><li><a href=https://github.com/jandelgado/general/wiki/Firmware-update-of-Seagate-harddisk-using-Linux>Firmware update Seagate HDD using Linux</a> uses <code>hdparm</code> to do it on Linux; something the OEM doesn’t support. I didn’t have to resort to it. I dunno if this would’ve worked if the HDD was connected via USB.</li></ul><hr><h1 id=hdd-upgrade-story>HDD Upgrade Story</h1><p>Those still reading to know about the poor ’ol HDD’s fate, read on! It ends well :)</p><p>I created a plain <em>Free DOS</em> bootable USB with Rufus; extracted the IMA floppy image to root; this worked since the update ISO was also using Free DOS. The tool, booted with Free DOS, still couldn’t do the deed! It couldn’t detect the drive that was connected via USB; <a href=https://niallbest.com/seagate-2tb-st32000542as-cc35-firmware-upgrade/>I realised</a> that it expects BIOS to be set to ATA; neither AHCI nor RAID &ndash; the only options mine has.</p><p>Luckily my 2006 desktop (AMD Phenom X4 machine) had the SATA option (in addition to the other two)! I didn’t even have to resort to a force firmware write, the tool did it straight-forward. I didn’t connect it via USB though; I opened the iOmega case, connected the internal HDD directly to the motherboard’s SATA power and data connectors.</p><p>Before firmware upgrade <code>smartctl</code> warned about an older firmware.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;display:grid><code class=language-basic data-lang=basic><span style=display:flex><span><span style=color:#ff79c6>&gt;</span> <span style=color:#8be9fd;font-style:italic>smartctl</span> <span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>i</span> <span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>dev</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>sdb</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>smartctl</span> <span style=color:#bd93f9>7.0</span> <span style=color:#bd93f9>2018-12-30</span> <span style=color:#8be9fd;font-style:italic>r4883</span> [<span style=color:#8be9fd;font-style:italic>x86_64</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>linux</span><span style=color:#bd93f9>-4.20.3</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>arch1</span><span style=color:#bd93f9>-1</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>ARCH</span>] (<span style=color:#8be9fd;font-style:italic>local</span> <span style=color:#8be9fd;font-style:italic>build</span>)
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Copyright</span> (<span style=color:#8be9fd;font-style:italic>C</span>) <span style=color:#bd93f9>2002-18</span>, <span style=color:#8be9fd;font-style:italic>Bruce</span> <span style=color:#8be9fd;font-style:italic>Allen</span>, <span style=color:#8be9fd;font-style:italic>Christian</span> <span style=color:#8be9fd;font-style:italic>Franke</span>, <span style=color:#8be9fd;font-style:italic>www</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>smartmontools</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>org</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>===</span> <span style=color:#8be9fd;font-style:italic>START</span> <span style=color:#8be9fd;font-style:italic>OF</span> <span style=color:#8be9fd;font-style:italic>INFORMATION</span> <span style=color:#8be9fd;font-style:italic>SECTION</span> <span style=color:#ff79c6>===</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Model</span> <span style=color:#8be9fd;font-style:italic>Family:</span>     <span style=color:#8be9fd;font-style:italic>Seagate</span> <span style=color:#8be9fd;font-style:italic>Barracuda</span> <span style=color:#8be9fd;font-style:italic>LP</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Device</span> <span style=color:#8be9fd;font-style:italic>Model:</span>     <span style=color:#8be9fd;font-style:italic>ST31000520AS</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Serial</span> <span style=color:#8be9fd;font-style:italic>Number:</span>    <span style=color:#8be9fd;font-style:italic>XXXXXXXX</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>LU</span> <span style=color:#8be9fd;font-style:italic>WWN</span> <span style=color:#8be9fd;font-style:italic>Device</span> <span style=color:#8be9fd;font-style:italic>Id:</span> <span style=color:#8be9fd;font-style:italic>X</span> <span style=color:#8be9fd;font-style:italic>XXXXXX</span> <span style=color:#8be9fd;font-style:italic>XXXXXXXXX</span>
</span></span><span style=display:flex;background-color:#3d3f4a><span><span style=color:#8be9fd;font-style:italic>Firmware</span> <span style=color:#8be9fd;font-style:italic>Version:</span> <span style=color:#8be9fd;font-style:italic>CC32</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>User</span> <span style=color:#8be9fd;font-style:italic>Capacity:</span>    <span style=color:#bd93f9>1</span>,<span style=color:#bd93f9>000</span>,<span style=color:#bd93f9>204</span>,<span style=color:#bd93f9>886</span>,<span style=color:#bd93f9>016</span> <span style=color:#8be9fd;font-style:italic>bytes</span> [<span style=color:#bd93f9>1.00</span> <span style=color:#8be9fd;font-style:italic>TB</span>]
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Sector</span> <span style=color:#8be9fd;font-style:italic>Size:</span>      <span style=color:#bd93f9>512</span> <span style=color:#8be9fd;font-style:italic>bytes</span> <span style=color:#8be9fd;font-style:italic>logical</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>physical</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Rotation</span> <span style=color:#8be9fd;font-style:italic>Rate:</span>    <span style=color:#bd93f9>5900</span> <span style=color:#8be9fd;font-style:italic>rpm</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Device</span> <span style=color:#8be9fd;font-style:italic>is:</span>        <span style=color:#8be9fd;font-style:italic>In</span> <span style=color:#8be9fd;font-style:italic>smartctl</span> <span style=color:#8be9fd;font-style:italic>database</span> [<span style=color:#8be9fd;font-style:italic>for</span> <span style=color:#8be9fd;font-style:italic>details</span> <span style=color:#8be9fd;font-style:italic>use:</span> <span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>P</span> <span style=color:#8be9fd;font-style:italic>show</span>]
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>ATA</span> <span style=color:#8be9fd;font-style:italic>Version</span> <span style=color:#8be9fd;font-style:italic>is:</span>   <span style=color:#8be9fd;font-style:italic>ATA8</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>ACS</span> <span style=color:#8be9fd;font-style:italic>T13</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>1699</span><span style=color:#ff79c6>-</span><span style=color:#8be9fd;font-style:italic>D</span> <span style=color:#8be9fd;font-style:italic>revision</span> <span style=color:#bd93f9>4</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>SATA</span> <span style=color:#8be9fd;font-style:italic>Version</span> <span style=color:#8be9fd;font-style:italic>is:</span>  <span style=color:#8be9fd;font-style:italic>SATA</span> <span style=color:#bd93f9>2.6</span>, <span style=color:#bd93f9>3.0</span> <span style=color:#8be9fd;font-style:italic>Gb</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>s</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Local</span> <span style=color:#8be9fd;font-style:italic>Time</span> <span style=color:#8be9fd;font-style:italic>is:</span>    <span style=color:#8be9fd;font-style:italic>Mon</span> <span style=color:#8be9fd;font-style:italic>Jan</span> <span style=color:#bd93f9>21</span> <span style=color:#bd93f9>09</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>08</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>22</span> <span style=color:#bd93f9>2019</span> <span style=color:#8be9fd;font-style:italic>IST</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>SMART</span> <span style=color:#8be9fd;font-style:italic>support</span> <span style=color:#8be9fd;font-style:italic>is:</span> <span style=color:#8be9fd;font-style:italic>Available</span> <span style=color:#ff79c6>-</span> <span style=color:#8be9fd;font-style:italic>device</span> <span style=color:#8be9fd;font-style:italic>has</span> <span style=color:#8be9fd;font-style:italic>SMART</span> <span style=color:#8be9fd;font-style:italic>capability</span><span style=color:#ff79c6>.</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>SMART</span> <span style=color:#8be9fd;font-style:italic>support</span> <span style=color:#8be9fd;font-style:italic>is:</span> <span style=color:#8be9fd;font-style:italic>Enabled</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>==&gt;</span> <span style=color:#8be9fd;font-style:italic>WARNING:</span> <span style=color:#8be9fd;font-style:italic>A</span> <span style=color:#8be9fd;font-style:italic>firmware</span> <span style=color:#8be9fd;font-style:italic>update</span> <span style=color:#8be9fd;font-style:italic>for</span> <span style=color:#8be9fd;font-style:italic>this</span> <span style=color:#8be9fd;font-style:italic>drive</span> <span style=color:#8be9fd;font-style:italic>may</span> <span style=color:#8be9fd;font-style:italic>be</span> <span style=color:#8be9fd;font-style:italic>available</span>,
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>see</span> <span style=color:#8be9fd;font-style:italic>the</span> <span style=color:#8be9fd;font-style:italic>following</span> <span style=color:#8be9fd;font-style:italic>Seagate</span> <span style=color:#8be9fd;font-style:italic>web</span> <span style=color:#8be9fd;font-style:italic>pages:</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>http:</span><span style=color:#ff79c6>//</span><span style=color:#8be9fd;font-style:italic>knowledge</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>seagate</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>com</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>articles</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>en_US</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>FAQ</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>207931</span><span style=color:#8be9fd;font-style:italic>en</span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>http:</span><span style=color:#ff79c6>//</span><span style=color:#8be9fd;font-style:italic>knowledge</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>seagate</span><span style=color:#ff79c6>.</span><span style=color:#8be9fd;font-style:italic>com</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>articles</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>en_US</span><span style=color:#ff79c6>/</span><span style=color:#8be9fd;font-style:italic>FAQ</span><span style=color:#ff79c6>/</span><span style=color:#bd93f9>213915</span><span style=color:#8be9fd;font-style:italic>en</span></span></span></code></pre></div><p>After the upgrade, the warning vanished and <em>Firmware Version</em> reads <code>CC35</code> 😇</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>GRUB is present in <em>EFI Order</em> since this was made after the recovery.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>This is rather important; a legacy boot USB stick wouldn’t be bootable when <em>Boot Mode</em> is UEFI.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>This is important too; without chrooting file paths would be off.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>Modern machines have <code>grub-mkconfig</code> instead of <code>update-grub</code>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class="post-footer clearfix"><p class=post-tags><span>Tagged:</span>
<a href=/tags/tech/>tech</a>,
<a href=/tags/linux/>linux</a></p><div class=share><a class=icon-twitter href="https://twitter.com/share?text=GRUB%20Recovery&url=https%3a%2f%2flegends2k.github.io%2fnote%2fgrub2_recovery%2f" onclick='return window.open(this.href,"twitter-share","width=550,height=235"),!1' aria-label="Share on Twitter"><i class="fa fa-twitter" aria-hidden=true></i>
</a><a class=icon-facebook href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2flegends2k.github.io%2fnote%2fgrub2_recovery%2f" onclick='return window.open(this.href,"facebook-share","width=580,height=296"),!1' aria-label="Share on Facebook"><i class="fa fa-facebook" aria-hidden=true></i>
</a><a class=icon-linkedin href="https://www.linkedin.com/shareArticle?mini=true&title=GRUB%20Recovery&url=https%3a%2f%2flegends2k.github.io%2fnote%2fgrub2_recovery%2f&summary=after%20a%20Windows%20boot%20loader%20overwrite" onclick='return window.open(this.href,"linkedin-share","width=554,height=481"),!1' aria-label="Share on LinkedIn"><i class="fa fa-linkedin" aria-hidden=true></i></a></div></footer></article></div></div></div><footer class=footer><div class=container><div class=site-title-wrapper><h1 class=site-title><a title="Bits of Insight" href=https://legends2k.github.io/><i class="fa fa-home"></i></a></h1><a class="button-square button-jump-top js-jump-top" href=#><i class="fa fa-angle-double-up"></i></a></div><p class=footer-copyright><a title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License" rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/><img alt="Creative Commons License" style=border-width:0 src=https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png></a></p><p class=footer-copyright><span>Rendered by <a href=https://gohugo.io/>Hugo</a></span></p><p class=footer-copyright><span>Composed with <a href=https://www.gnu.org/software/emacs/>GNU Emacs</a></span></p><p class=footer-copyright>Occured to <a href=https://legends2k.github.io/about/>Sundaram Ramaswamy</a></span></p></div></footer><script src=https://legends2k.github.io/js/jquery-1.11.3.min.js></script><script src=https://legends2k.github.io/js/jquery.fitvids.js></script><script src=https://legends2k.github.io/js/scripts.js></script></body></html>